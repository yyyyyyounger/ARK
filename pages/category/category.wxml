<!-- 彈出類 -->
<van-toast id="van-toast" zIndex:9999999/>
<van-dialog id="van-dialog" zIndex:9999999/>

<!-- 橫向大開課按鈕 - 棄用狀態 -->
<!-- <van-button type="primary" size="normal" color="#3498DB" block class="flexCenter" bindtap="jumpToholdACourses">我要開課<van-icon name="plus"/></van-button> -->

<van-tabs sticky swipeable animated color="#3498DB" bind:click="onClick_tabs">

  <van-tab title="最新發佈">

    <van-sticky>
<!-- 下拉菜單 -->
      <van-dropdown-menu>
        <van-dropdown-item value="{{ dropDownIndex }}" options="{{ option1 }}" bind:change="dropDownChange" />
        <van-dropdown-item value="{{0}}" options="{{ dropDownIndex==0 ? option3 : option2 }}" />
      </van-dropdown-menu>
    </van-sticky>

      <!-- 課程卡片 - 未完成 -->
      <!-- 缺課程標籤，或者頭像上專業標籤，例如ECE -->
      <view class="cu-card dynamic " wx:for="{{recentCourseInfoArray}}">
        <view class="cu-item shadow">
          <view class="cu-list menu-avatar">
            <view class="cu-item">
              <view class="cu-avatar round lg" style="background-image:url( {{ recentCourseInfoArray[index].avatarUrl }} );"></view>
              <view class="content flex-sub">
                <view>{{ recentCourseInfoArray[index].courseInfoInput[6].input }}</view>
              </view>
              <!-- add/cancel Follow按鈕 -->
              <van-button 
                icon="{{ recentCourseInfoArray[index].haveFollow ? 'delete-o' : 'star-o'}}"
                size="small" 
                color="{{ recentCourseInfoArray[index].haveFollow ? '#f8ad72' : '#3498DB'}}" 
                type="primary" 
                round 
                data-courseid="{{recentCourseInfoArray[index]._id}}" 
                bind:click="{{ recentCourseInfoArray[index].haveFollow ? 'deleteFollow' : 'addFollow'}}">{{ recentCourseInfoArray[index].haveFollow ? 'ByeBye' : 'Follow'}}</van-button><text decode="true" class="text-right">&nbsp;&nbsp;</text>
            </view>
          </view>
          <view class="slot text-content" bindtap="jumpToCourseDetail">
            日期：{{ recentCourseInfoArray[index].courseInfoInput[5].input[0] }} 
            <view>時間：{{ recentCourseInfoArray[index].courseInfoInput[5].input[1] }} - {{ recentCourseInfoArray[index].courseInfoInput[5].input[2] }}</view>
            <view>地點：{{ recentCourseInfoArray[index].courseInfoInput[4].input }}</view>
          </view>
          <view class="slot text-right">
            <!-- 頭像組 -->
            <view class="cu-avatar-group">
              <view class="cu-avatar round lg" wx:for="{{5}}" wx:key style="background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big1000{{index+1}}.jpg);"></view>
            </view> <text decode="true">...&nbsp;&nbsp;</text>
          </view>
        </view>
        <!-- 分割線 -->
        <van-divider />
      </view>

      <van-divider contentPosition="center">“最新發佈” 只顯示最近30日的新增課程~</van-divider>

  </van-tab>

  <van-tab title="我的Follow">
    <!-- 下拉菜單 - 排序未完成 -->
    <van-dropdown-menu>
      <van-dropdown-item value="{{ dropDownIndex }}" options="{{ option1 }}" bind:change="dropDownChange" />
      <van-dropdown-item value="{{0}}" options="{{ dropDownIndex==0 ? option3 : option2 }}" />
    </van-dropdown-menu>

    <!-- 課程卡片 - 未完成 -->
    <!-- 缺課程標籤，或者頭像上專業標籤，例如ECE -->
    <view class="cu-card dynamic " wx:for="{{recentCourseInfoArray}}" wx:if="{{recentCourseInfoArray[index].haveFollow}}">
      <view class="cu-item shadow">
        <view class="cu-list menu-avatar">
          <view class="cu-item">
            <view class="cu-avatar round lg" style="background-image:url( {{ recentCourseInfoArray[index].avatarUrl }} );"></view>
            <view class="content flex-sub">
              <view>{{ recentCourseInfoArray[index].courseInfoInput[6].input }}</view>
            </view>
            <!-- add/cancel Follow按鈕 -->
            <van-button 
              icon="{{ recentCourseInfoArray[index].haveFollow ? 'delete-o' : 'star-o'}}"
              size="small" 
              color="{{ recentCourseInfoArray[index].haveFollow ? '#f8ad72' : '#3498DB'}}" 
              type="primary" 
              round 
              data-courseid="{{recentCourseInfoArray[index]._id}}" 
              bind:click="{{ recentCourseInfoArray[index].haveFollow ? 'deleteFollow' : 'addFollow'}}">{{ recentCourseInfoArray[index].haveFollow ? 'ByeBye' : 'Follow'}}</van-button><text decode="true" class="text-right">&nbsp;&nbsp;</text>
          </view>
        </view>
        <view class="slot text-content" bindtap="jumpToCourseDetail">
          日期：{{ recentCourseInfoArray[index].courseInfoInput[5].input[0] }} 
          <view>時間：{{ recentCourseInfoArray[index].courseInfoInput[5].input[1] }} - {{ recentCourseInfoArray[index].courseInfoInput[5].input[2] }}</view>
          <view>地點：{{ recentCourseInfoArray[index].courseInfoInput[4].input }}</view>
        </view>
        <view class="slot text-right">
          <!-- 頭像組 -->
          <view class="cu-avatar-group">
            <view class="cu-avatar round lg" wx:for="{{5}}" wx:key style="background-image:url(https://ossweb-img.qq.com/images/lol/web201310/skin/big1000{{index+1}}.jpg);"></view>
          </view> <text decode="true">...&nbsp;&nbsp;</text>
        </view>
      </view>
      <!-- 分割線 -->
      <van-divider />
    </view>

    <van-divider contentPosition="center">“我的Follow” 只顯示最近30日的Follow</van-divider>
    <van-divider contentPosition="center">快挑選些分享加入吧！</van-divider>

  </van-tab>

  <van-tab title="歸檔&記錄">

    <view style="margin-top:30rpx">
      <van-grid gutter="{{ 10 }}" column-num="1" clickable icon-size="60rpx">
        <van-grid-item icon="apps-o" text="所有課程" />
        <van-grid-item icon="more-o" text="參與記錄" />
      </van-grid>
    </view>

  </van-tab>
  
  <van-tab title="我要開課">

    <view class="cu-bar bg-white margin-top">
      <view class="action">
        <text class="cuIcon-title text-blue"></text>開課須知
      </view>
    </view>
    <van-skeleton row="4" />

    <view class="cu-bar bg-white margin-top">
      <view class="action">
        <text class="cuIcon-title text-blue"></text>流程說明
      </view>
    </view>
    <van-skeleton row="4" />


    <view style="margin-top:150rpx">
      <van-button type="primary" size="normal" color="#3498DB" round class="flexCenter" bindtap="jumpToholdACourses">我要開課<van-icon name="plus"/></van-button>
    </view>

  </van-tab>

</van-tabs>

<view class="bottom-watch"></view>